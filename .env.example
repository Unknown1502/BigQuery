# =============================================================================
# Dynamic Pricing with Multimodal Geospatial Intelligence - Environment Configuration
# Updated for Google Cloud Project: geosptial-471213
# =============================================================================

# -----------------------------------------------------------------------------
# Google Cloud Platform Configuration - UPDATED
# -----------------------------------------------------------------------------
GOOGLE_CLOUD_PROJECT=geosptial-471213
GOOGLE_APPLICATION_CREDENTIALS=credentials/geosptial-471213-105ec6eaf6bd.json
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# BigQuery Configuration - UPDATED
BIGQUERY_DATASET=ride_intelligence
BIGQUERY_LOCATION=US

# Cloud Storage Configuration - UPDATED
GCS_BUCKET_IMAGES=geosptial-471213-street-imagery
GCS_BUCKET_MODELS=geosptial-471213-model-artifacts
GCS_BUCKET_DATA=geosptial-471213-data-lake

# Pub/Sub Configuration - UPDATED
PUBSUB_TOPIC_EVENTS=geosptial-pricing-events
PUBSUB_TOPIC_IMAGES=geosptial-image-processing
PUBSUB_SUBSCRIPTION_PRICING=geosptial-pricing-subscription

# Google Maps Platform APIs - UPDATED (You need to get new keys for this project)
GOOGLE_MAPS_API_KEY=your_new_google_maps_api_key_for_geosptial_project
# Get from: https://console.cloud.google.com/apis/credentials?project=geosptial-471213
# Required APIs: Maps JavaScript API, Places API, Street View Static API, Geocoding API

# Vertex AI Configuration - UPDATED
VERTEX_AI_REGION=us-central1
VERTEX_AI_PROJECT=geosptial-471213
VERTEX_AI_ENDPOINT_ID=your_endpoint_id_here

# -----------------------------------------------------------------------------
# External API Keys (KEEP YOUR EXISTING VALUES)
# -----------------------------------------------------------------------------

# Weather Data APIs - KEEP EXISTING
OPENWEATHER_API_KEY=your_existing_openweather_api_key
NOAA_API_TOKEN=your_existing_noaa_api_token

# Location and POI APIs - KEEP EXISTING
FOURSQUARE_API_KEY=your_existing_foursquare_api_key

# Street-Level Imagery APIs - KEEP EXISTING
MAPILLARY_ACCESS_TOKEN=your_existing_mapillary_access_token

# Economic Data APIs - KEEP EXISTING
FRED_API_KEY=your_existing_fred_api_key

# Chicago Data Configuration - KEEP EXISTING
CHICAGO_APP_TOKEN=your_existing_chicago_app_token

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Application Ports
API_GATEWAY_PORT=8000
IMAGE_PROCESSOR_PORT=8001
PRICING_ENGINE_PORT=8002
DATA_INGESTION_PORT=8003
STREAM_PROCESSOR_PORT=8004

# -----------------------------------------------------------------------------
# Database and Caching Configuration
# -----------------------------------------------------------------------------

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# Cache Settings
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE=1000

# -----------------------------------------------------------------------------
# Local Development Services
# -----------------------------------------------------------------------------

# Pub/Sub Emulator (for local development)
PUBSUB_EMULATOR_HOST=localhost:8085

# BigQuery Emulator (for local development)
BIGQUERY_EMULATOR_HOST=localhost:9050

# Monitoring Services
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
JAEGER_URL=http://localhost:16686

# MinIO (Local S3-compatible storage)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false

# -----------------------------------------------------------------------------
# Machine Learning Configuration
# -----------------------------------------------------------------------------

# Model Configuration
DEMAND_MODEL_NAME=demand_forecast_model
PRICING_MODEL_NAME=price_optimization_model
IMAGE_MODEL_NAME=street_scene_analysis_model

# Training Configuration
ML_TRAINING_REGION=us-central1
ML_TRAINING_MACHINE_TYPE=n1-standard-4
ML_TRAINING_ACCELERATOR=NVIDIA_TESLA_T4

# -----------------------------------------------------------------------------
# Image Processing Configuration
# -----------------------------------------------------------------------------

# Image Processing Settings
MAX_IMAGE_SIZE_MB=10
SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,webp
IMAGE_PROCESSING_TIMEOUT=30

# Computer Vision Models
CROWD_DETECTION_MODEL=yolov5s
ACTIVITY_CLASSIFICATION_MODEL=resnet50
ACCESSIBILITY_ANALYSIS_MODEL=custom_cnn

# -----------------------------------------------------------------------------
# Pricing Engine Configuration
# -----------------------------------------------------------------------------

# Pricing Parameters
BASE_PRICE_USD=2.50
MAX_SURGE_MULTIPLIER=5.0
MIN_SURGE_MULTIPLIER=0.8
PRICE_UPDATE_INTERVAL_SECONDS=60

# Demand Forecasting
FORECAST_HORIZON_HOURS=24
CONFIDENCE_THRESHOLD=0.85
SEASONAL_ADJUSTMENT=true

# -----------------------------------------------------------------------------
# Data Pipeline Configuration
# -----------------------------------------------------------------------------

# Data Ingestion Settings
BATCH_SIZE=1000
MAX_RETRIES=3
RETRY_DELAY_SECONDS=5

# Data Quality Thresholds
MIN_DATA_COMPLETENESS=0.95
MAX_OUTLIER_PERCENTAGE=0.05
DATA_FRESHNESS_HOURS=1

# NYC Taxi Data Configuration
NYC_TAXI_DATA_URL=https://d37ci6vzurychx.cloudfront.net/trip-data
NYC_TAXI_DATASETS=yellow,green,fhv,fhvhv

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------

# API Security
API_KEY_HEADER=X-API-Key
RATE_LIMIT_PER_MINUTE=100
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# JWT Configuration
JWT_SECRET_KEY=your_jwt_secret_key_here_change_in_production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# Monitoring and Alerting Configuration
# -----------------------------------------------------------------------------

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Logging Configuration
LOG_FORMAT=json
LOG_FILE=logs/pricing_system.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=5

# Alert Thresholds
ALERT_API_RESPONSE_TIME_MS=1000
ALERT_ERROR_RATE_PERCENTAGE=5
ALERT_MEMORY_USAGE_PERCENTAGE=85
ALERT_DISK_USAGE_PERCENTAGE=90

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------

# Concurrency Settings
MAX_WORKERS=4
ASYNC_POOL_SIZE=100
CONNECTION_POOL_SIZE=20

# Timeout Settings
API_TIMEOUT_SECONDS=30
DATABASE_TIMEOUT_SECONDS=10
EXTERNAL_API_TIMEOUT_SECONDS=15

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable/Disable Features
ENABLE_IMAGE_PROCESSING=true
ENABLE_REAL_TIME_PRICING=true
ENABLE_A_B_TESTING=true
ENABLE_COMPETITIVE_ANALYSIS=true
ENABLE_WEATHER_INTEGRATION=true
ENABLE_DEMOGRAPHIC_ANALYSIS=true

# Experimental Features
ENABLE_EXPERIMENTAL_ML_MODELS=false
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_PREDICTIVE_SCALING=false

# -----------------------------------------------------------------------------
# Development and Testing Configuration
# -----------------------------------------------------------------------------

# Testing Configuration
TEST_DATABASE_URL=sqlite:///test.db
TEST_REDIS_URL=redis://localhost:6380
MOCK_EXTERNAL_APIS=true

# Development Tools
ENABLE_DEBUG_TOOLBAR=true
ENABLE_PROFILING=false
ENABLE_HOT_RELOAD=true

# Sample Data Configuration
USE_SAMPLE_DATA=true
SAMPLE_DATA_SIZE=1000
GENERATE_SYNTHETIC_DATA=false

# =============================================================================
# INSTRUCTIONS FOR UPDATING YOUR .env FILE:
# =============================================================================
# 
# 1. Copy your existing .env file to .env.backup
# 2. Update the following Google Cloud related variables in your .env:
#    - GOOGLE_CLOUD_PROJECT=geosptial-471213
#    - GOOGLE_APPLICATION_CREDENTIALS=credentials/geosptial-471213-105ec6eaf6bd.json
#    - GCS_BUCKET_IMAGES=geosptial-471213-street-imagery
#    - GCS_BUCKET_MODELS=geosptial-471213-model-artifacts
#    - GCS_BUCKET_DATA=geosptial-471213-data-lake
#    - PUBSUB_TOPIC_EVENTS=geosptial-pricing-events
#    - PUBSUB_TOPIC_IMAGES=geosptial-image-processing
#    - PUBSUB_SUBSCRIPTION_PRICING=geosptial-pricing-subscription
#    - VERTEX_AI_PROJECT=geosptial-471213
#
# 3. You will need to get a NEW Google Maps API key for the geosptial-471213 project
# 4. Keep all your existing API keys for other services (OpenWeather, NOAA, Foursquare, etc.)
#
# =============================================================================
